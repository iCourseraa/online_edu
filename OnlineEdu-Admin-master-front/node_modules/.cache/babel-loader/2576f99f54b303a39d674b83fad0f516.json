{"remainingRequest":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\OnlineEdu-Admin-master-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86193\\Desktop\\online_edu_V1224\\OnlineEdu-Admin-master-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\86193\\Desktop\\online_edu_V1224\\OnlineEdu-Admin-master-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86193\\Desktop\\online_edu_V1224\\OnlineEdu-Admin-master-front\\src\\views\\edu_course\\educourse_audit.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\OnlineEdu-Admin-master-front\\src\\views\\edu_course\\educourse_audit.vue","mtime":1735392386410},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\OnlineEdu-Admin-master-front\\babel.config.js","mtime":1734500708555},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\OnlineEdu-Admin-master-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\OnlineEdu-Admin-master-front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\OnlineEdu-Admin-master-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\OnlineEdu-Admin-master-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIGZyb20gIkM6L1VzZXJzLzg2MTkzL0Rlc2t0b3Avb25saW5lX2VkdV9WMTIyNC9PbmxpbmVFZHUtQWRtaW4tbWFzdGVyLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgbGlzdCwgdXBkYXRlSXQsIHBhc3MgYXMgX3Bhc3MsIHJlamVjdCBhcyBfcmVqZWN0IH0gZnJvbSAnQC9hcGkvY291cnNlJzsKaW1wb3J0IHsganNvbk9iajJGb3JtRGF0YSwgZW5jb2RlT3NzRmlsZVVyaSBhcyBfZW5jb2RlT3NzRmlsZVVyaSB9IGZyb20gJ0AvdXRpbHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0VkdUNvdXJzZUF1ZGl0JywKICBjb21wb25lbnRzOiB7CiAgICAndi1lZHV0ZWFjaGVyLWFkZC11cGRhdGUnOiBmdW5jdGlvbiB2RWR1dGVhY2hlckFkZFVwZGF0ZSgpIHsKICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCdAL3ZpZXdzL2VkdV9jb3Vyc2UvZWR1Y291cnNlX2FkZF91cGRhdGUnKSk7CiAgICAgIH0pOwogICAgfSwKICAgICd2LWVkdXRlYWNoZXItd2F0Y2gnOiBmdW5jdGlvbiB2RWR1dGVhY2hlcldhdGNoKCkgewogICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoJ0Avdmlld3MvZWR1X2NvdXJzZS9lZHVjb3Vyc2Vfd2F0Y2gnKSk7CiAgICAgIH0pOwogICAgfSwKICAgICd2LWVkdXRlYWNoZXItdG1wLXdhdGNoJzogZnVuY3Rpb24gdkVkdXRlYWNoZXJUbXBXYXRjaCgpIHsKICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCdAL3ZpZXdzL2VkdV9jb3Vyc2UvZWR1Y291cnNlX3RtcF93YXRjaCcpKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoUGFyYW1zOiB7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGZyZWU6IG51bGwsCiAgICAgICAgc3RhdHVzOiAnQVVESVRJTkcnCiAgICAgIH0sCiAgICAgIHRvdGFsOiAwLAogICAgICBsaXN0RGF0YTogW10sCiAgICAgIHRhYmxlRGF0YUxvYWRpbmc6IGZhbHNlLAogICAgICBjdXJyZW50T3BlcmF0aW9uRGF0YTogbnVsbCwKICAgICAgLy8g5L+u5pS5CiAgICAgIHVwZGF0ZVByb2ZpbGVEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgdXBkYXRlUHJvZmlsZURpYWxvZ1RpdGxlOiAnJywKICAgICAgLy8g6KeC55yLCiAgICAgIHdhdGNoVmlkZW9EaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g5Yid5a6h6KeG6aKRCiAgICAgIHdhdGNoVmlkZW9UbXBEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g5LqM5a6h6KeG6aKRCiAgICAgIHdhdGNoVmlkZW9EaWFsb2dUaXRsZTogJycsCiAgICAgIC8vIOmps+WbngogICAgICByZWplY3REaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgcmVqZWN0RGlhbG9nVGl0bGU6ICcnLAogICAgICByZWplY3RSZW1hcmtzOiAnJwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0U2VhcmNoUGFyYW1zOiBmdW5jdGlvbiByZXNldFNlYXJjaFBhcmFtcyhmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLnNlYXJjaFBhcmFtcy5jdXJyZW50ID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgZW5jb2RlT3NzRmlsZVVyaTogZnVuY3Rpb24gZW5jb2RlT3NzRmlsZVVyaShvc3NVcmkpIHsKICAgICAgcmV0dXJuIF9lbmNvZGVPc3NGaWxlVXJpKG9zc1VyaSk7CiAgICB9LAogICAgb3BlblVwZGF0ZVByb2ZpbGVEaWFsb2c6IGZ1bmN0aW9uIG9wZW5VcGRhdGVQcm9maWxlRGlhbG9nKGN1ckRhdGEpIHsKICAgICAgdGhpcy51cGRhdGVQcm9maWxlRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuY3VycmVudE9wZXJhdGlvbkRhdGEgPSBjdXJEYXRhOwogICAgICB0aGlzLnVwZGF0ZVByb2ZpbGVEaWFsb2dUaXRsZSA9ICJcdTY2RjRcdTY1MzlcdThCRkVcdTdBMEJbIi5jb25jYXQoY3VyRGF0YS50aXRsZSwgIl1cdTRGRTFcdTYwNkYiKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy4kcmVmcy5VcGRhdGVEaWFsb2cuc2V0RGF0YShjdXJEYXRhKTsKICAgICAgfS5iaW5kKHRoaXMpLCAxMDApOwogICAgfSwKICAgIC8vIOWIneWuoeinhumikQogICAgb3BlbldhdGNoVmlkZW9EaWFsb2c6IGZ1bmN0aW9uIG9wZW5XYXRjaFZpZGVvRGlhbG9nKGN1ckRhdGEpIHsKICAgICAgdGhpcy53YXRjaFZpZGVvRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMud2F0Y2hWaWRlb0RpYWxvZ1RpdGxlID0gIlx1NjdFNVx1NzcwQlx1OEJGRVx1N0EwQlx1MzAwQSIuY29uY2F0KGN1ckRhdGEudGl0bGUsICJcdTMwMEJcdTg5QzZcdTk4OTEiKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy4kcmVmcy5XYXRjaERpYWxvZy5zZXREYXRhKGN1ckRhdGEuaWQpOwogICAgICB9LmJpbmQodGhpcyksIDEwMCk7CiAgICB9LAogICAgLy8g5LqM5a6h6KeG6aKRCiAgICBvcGVuV2F0Y2hWaWRlb1RtcERpYWxvZzogZnVuY3Rpb24gb3BlbldhdGNoVmlkZW9UbXBEaWFsb2coY3VyRGF0YSkgewogICAgICB0aGlzLndhdGNoVmlkZW9UbXBEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy53YXRjaFZpZGVvRGlhbG9nVGl0bGUgPSAiXHU2N0U1XHU3NzBCXHU4QkZFXHU3QTBCXHUzMDBBIi5jb25jYXQoY3VyRGF0YS50aXRsZSwgIlx1MzAwQlx1ODlDNlx1OTg5MSIpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLiRyZWZzLldhdGNoVG1wRGlhbG9nLnNldERhdGEoY3VyRGF0YS5pZCk7CiAgICAgIH0uYmluZCh0aGlzKSwgMTAwKTsKICAgIH0sCiAgICBvcGVuUmVqZWN0RGlhbG9nOiBmdW5jdGlvbiBvcGVuUmVqZWN0RGlhbG9nKGN1ckRhdGEpIHsKICAgICAgdGhpcy5jdXJyZW50T3BlcmF0aW9uRGF0YSA9IGN1ckRhdGE7CiAgICAgIHRoaXMucmVqZWN0RGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMucmVqZWN0RGlhbG9nVGl0bGUgPSAiXHU5QTczXHU1NkRFXHU4QkZFXHU3QTBCXHUzMDBBIi5jb25jYXQoY3VyRGF0YS50aXRsZSwgIlx1MzAwQiIpOwogICAgfSwKICAgIGdldERldGFpbHNTdWJqZWN0OiBmdW5jdGlvbiBnZXREZXRhaWxzU3ViamVjdChzdWJqZWN0UGFyZW50KSB7CiAgICAgIHZhciBzdWJqZWN0ID0gJyc7CiAgICAgIHZhciBwYXJlbnQgPSBzdWJqZWN0UGFyZW50OwogICAgICB3aGlsZSAocGFyZW50KSB7CiAgICAgICAgc3ViamVjdCA9ICIiLmNvbmNhdChwYXJlbnQudGl0bGUsICIgPiAiKS5jb25jYXQoc3ViamVjdCk7CiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDsKICAgICAgfQogICAgICByZXR1cm4gc3ViamVjdC5zdWJzdHJpbmcoMCwgc3ViamVjdC5sZW5ndGggLSAzKTsKICAgIH0sCiAgICAvLyDojrflj5bliJfooajkv6Hmga8KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMudGFibGVEYXRhTG9hZGluZyA9IHRydWU7CiAgICAgIGxpc3QodGhpcy5zZWFyY2hQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpcy50b3RhbCA9IHJlc3AuZGF0YS50b3RhbDsKICAgICAgICBfdGhpcy5saXN0RGF0YSA9IHJlc3AuZGF0YS5saXN0OwogICAgICAgIF90aGlzLnRhYmxlRGF0YUxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5L+u5pS55L+h5oGvCiAgICB1cGRhdGVQcm9maWxlOiBmdW5jdGlvbiB1cGRhdGVQcm9maWxlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuJHJlZnMuVXBkYXRlRGlhbG9nLmdldERhdGEoKTsKICAgICAgdXBkYXRlSXQocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MocmVzcC5tZXNzYWdlKTsKICAgICAgICBfdGhpczIudXBkYXRlUHJvZmlsZURpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICBfdGhpczIuZ2V0TGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDpgJrov4flrqHmoLgKICAgIHBhc3M6IGZ1bmN0aW9uIHBhc3MoY3VyRGF0YSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5jdXJyZW50T3BlcmF0aW9uRGF0YSA9IGN1ckRhdGE7CiAgICAgIF9wYXNzKGN1ckRhdGEuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2VzcygiXHU4QkZFXHU3QTBCWyIuY29uY2F0KGN1ckRhdGEudGl0bGUsICJdXHU1REYyXHU5MDFBXHU4RkM3XHU1QkExXHU2ODM4IikpOwogICAgICAgIF90aGlzMy5nZXRMaXN0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmps+WbnuWuoeaguAogICAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgY291cnNlID0gdGhpcy5jdXJyZW50T3BlcmF0aW9uRGF0YTsKICAgICAgdmFyIHBhcmFtcyA9IGpzb25PYmoyRm9ybURhdGEoewogICAgICAgIGlkOiBjb3Vyc2UuaWQsCiAgICAgICAgcmVtYXJrczogdGhpcy5yZWplY3RSZW1hcmtzCiAgICAgIH0pOwogICAgICBfcmVqZWN0KHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCJcdThCRkVcdTdBMEJbIi5jb25jYXQoY291cnNlLnRpdGxlLCAiXVx1NURGMlx1OUE3M1x1NTZERSIpKTsKICAgICAgICBfdGhpczQucmVqZWN0RGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIF90aGlzNC5nZXRMaXN0KCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["list","updateIt","pass","reject","jsonObj2FormData","encodeOssFileUri","name","components","vEduteacherAddUpdate","Promise","resolve","then","_interopRequireWildcard","require","vEduteacherWatch","vEduteacherTmpWatch","data","searchParams","current","pageSize","title","free","status","total","listData","tableDataLoading","currentOperationData","updateProfileDialogVisible","updateProfileDialogTitle","watchVideoDialogVisible","watchVideoTmpDialogVisible","watchVideoDialogTitle","rejectDialogVisible","rejectDialogTitle","rejectRemarks","created","getList","methods","resetSearchParams","formName","$refs","resetFields","ossUri","openUpdateProfileDialog","curData","concat","setTimeout","UpdateDialog","setData","bind","openWatchVideoDialog","WatchDialog","id","openWatchVideoTmpDialog","WatchTmpDialog","openRejectDialog","getDetailsSubject","subjectParent","subject","parent","substring","length","_this","resp","updateProfile","_this2","params","getData","$message","success","message","_this3","_this4","course","remarks"],"sources":["src/views/edu_course/educourse_audit.vue"],"sourcesContent":["<!-- 课程审核 -->\r\n<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"search-box\">\r\n      <el-form ref=\"searchParamsForm\" :inline=\"true\" :model=\"searchParams\" size=\"small\">\r\n        <el-form-item label=\"课程名称：\" prop=\"title\">\r\n          <el-input v-model=\"searchParams.title\" placeholder=\"输入课程名称搜索\" />\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"是否免费：\" prop=\"free\">\r\n          <el-select v-model=\"searchParams.free\" style=\"width: 130px\">\r\n            <el-option label=\"免费\" :value=\"true\" />\r\n            <el-option label=\"收费\" :value=\"false\" />\r\n          </el-select>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"审核状态：\" prop=\"status\">\r\n          <el-select v-model=\"searchParams.status\" style=\"width: 130px\">\r\n            <el-option label=\"待审核\" :value=\"'AUDITING'\" />\r\n            <el-option label=\"初审\" :value=\"'FIRST_AUDITING'\" />\r\n            <el-option label=\"二审\" :value=\"'SECOND_AUDITING'\" />\r\n            <el-option label=\"已驳回\" :value=\"'TURN_DOWN'\" />\r\n            <el-option label=\"草稿\" :value=\"'DRAFT'\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"getList\">查 询</el-button>\r\n          <el-button @click=\"resetSearchParams('searchParamsForm')\">重 置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"blog-list\">\r\n      <el-table ref=\"listTable\" v-loading=\"tableDataLoading\" :data=\"listData\" tooltip-effect=\"dark\"\r\n        :header-cell-style=\"{ fontWeight: 'normal', color: '#666' }\">\r\n        <el-table-column type=\"index\" />\r\n        <el-table-column prop=\"title\" label=\"封面\" width=\"130\">\r\n          <template slot-scope=\"scope\">\r\n            <el-image style=\"width: 100px; height: 48px\" :src=\"encodeOssFileUri(scope.row.cover)\" fit=\"cover\" />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"title\" label=\"名称\" show-tooltip-when-overflow />\r\n        <el-table-column prop=\"subjectId\" label=\"分类\" show-tooltip-when-overflow>\r\n          <template slot-scope=\"scope\">\r\n            {{ getDetailsSubject(scope.row.subjectParent) }}\r\n          </template>\r\n        </el-table-column>\r\n        <!-- <el-table-column prop=\"price\" label=\"价格\" width=\"100\">\r\n          <template slot-scope=\"scope\">{{ scope.row.price === 0 ? '免费' : scope.row.price }}</template>\r\n        </el-table-column> -->\r\n        <el-table-column prop=\"lessonNum\" label=\"总课时\" width=\"100\" />\r\n        <el-table-column prop=\"sort\" label=\"排序\" width=\"80\" align=\"center\" />\r\n        <el-table-column prop=\"status\" label=\"审核状态\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag v-if=\"scope.row.status === 'FIRST_AUDITING'\" type=\"\" size=\"small\">初审</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status === 'SECOND_AUDITING'\" type=\"\" size=\"small\">二审</el-tag>\r\n            <el-tag v-else-if=\"scope.row.status === 'DRAFT'\" type=\"info\" size=\"small\">草稿</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"280\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"primary\" size=\"mini\" @click=\"openUpdateProfileDialog(scope.row)\">修改</el-button>\r\n            <el-button type=\"warning\" size=\"mini\" @click=\"/FIRST_AUDITING|DRAFT/.test(scope.row.status)\r\n              ? openWatchVideoDialog(scope.row)\r\n              : openWatchVideoTmpDialog(scope.row)\">观看</el-button>\r\n            <el-popconfirm style=\"margin:0 10px\" placement=\"top-end\" confirm-button-text=\"确定\" cancel-button-text=\"取消\"\r\n              icon=\"el-icon-info\" icon-color=\"red\" :title=\"`你要通过课程[${scope.row.title}]的审核吗？`\"\r\n              @confirm=\"pass(scope.row)\">\r\n              <el-button slot=\"reference\" type=\"success\" size=\"mini\">通过</el-button>\r\n            </el-popconfirm>\r\n            <el-button v-if=\"/AUDITING/.test(scope.row.status)\" type=\"danger\" size=\"mini\"\r\n              @click=\"openRejectDialog(scope.row)\">驳回</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"pagination\">\r\n      <el-pagination background :page-sizes=\"[10, 20, 30, 40, 50]\" layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\" :page-size.sync=\"searchParams.pageSize\" :current-page.sync=\"searchParams.current\"\r\n        @size-change=\"getList\" @current-change=\"getList\" />\r\n    </div>\r\n    <!-- 修改信息 -->\r\n    <el-dialog :title.sync=\"updateProfileDialogTitle\" :visible.sync=\"updateProfileDialogVisible\" destroy-on-close\r\n      top=\"3vh\" :close-on-click-modal=\"false\">\r\n      <v-eduteacher-add-update ref=\"UpdateDialog\" />\r\n      <span slot=\"footer\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"updateProfile\">更 新</el-button>\r\n        <el-button size=\"small\" @click=\"updateProfileDialogVisible = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 观看视频(初审视频) -->\r\n    <el-dialog :title.sync=\"watchVideoDialogTitle\" :visible.sync=\"watchVideoDialogVisible\" destroy-on-close top=\"5vh\"\r\n      width=\"70vw\" :close-on-click-modal=\"false\" :before-close=\"(done) => { $refs.WatchDialog.dispose(); done(); }\">\r\n      <v-eduteacher-watch ref=\"WatchDialog\" />\r\n    </el-dialog>\r\n    <!-- 观看视频(二审视频) -->\r\n    <el-dialog :title.sync=\"watchVideoDialogTitle\" :visible.sync=\"watchVideoTmpDialogVisible\" destroy-on-close top=\"5vh\"\r\n      width=\"70vw\" :close-on-click-modal=\"false\" :before-close=\"(done) => { $refs.WatchTmpDialog.dispose(); done(); }\">\r\n      <div style=\"margin-bottom: 12px;color: #F44336\">\r\n        * 视频标题带标志 \"\r\n        <el-badge is-dot>\r\n          <i class=\"el-icon-video-play\" style=\"margin-right: 6px\" />\r\n        </el-badge>\r\n        &nbsp;\" 说明是新上传的课程视频\r\n      </div>\r\n      <v-eduteacher-tmp-watch ref=\"WatchTmpDialog\" />\r\n    </el-dialog>\r\n    <!-- 驳回审核 -->\r\n    <el-dialog :title.sync=\"rejectDialogTitle\" :visible.sync=\"rejectDialogVisible\" destroy-on-close\r\n      :close-on-click-modal=\"false\" @closed=\"rejectRemarks = ''\">\r\n      <el-input v-model=\"rejectRemarks\" :rows=\"7\" type=\"textarea\" maxlength=\"511\" show-word-limit placeholder=\"驳回备注\" />\r\n      <span slot=\"footer\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"reject\">确 认</el-button>\r\n        <el-button size=\"small\" @click=\"rejectDialogVisible = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { list, updateIt, pass, reject } from '@/api/course'\r\nimport { jsonObj2FormData, encodeOssFileUri } from '@/utils'\r\n\r\nexport default {\r\n  name: 'EduCourseAudit',\r\n  components: {\r\n    'v-eduteacher-add-update': () => import('@/views/edu_course/educourse_add_update'),\r\n    'v-eduteacher-watch': () => import('@/views/edu_course/educourse_watch'),\r\n    'v-eduteacher-tmp-watch': () => import('@/views/edu_course/educourse_tmp_watch')\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      searchParams: {\r\n        current: 1,\r\n        pageSize: 10,\r\n        title: '',\r\n        free: null,\r\n        status: 'AUDITING'\r\n      },\r\n      total: 0,\r\n      listData: [],\r\n      tableDataLoading: false,\r\n      currentOperationData: null,\r\n      // 修改\r\n      updateProfileDialogVisible: false,\r\n      updateProfileDialogTitle: '',\r\n      // 观看\r\n      watchVideoDialogVisible: false, // 初审视频\r\n      watchVideoTmpDialogVisible: false, // 二审视频\r\n      watchVideoDialogTitle: '',\r\n      // 驳回\r\n      rejectDialogVisible: false,\r\n      rejectDialogTitle: '',\r\n      rejectRemarks: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    resetSearchParams(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.searchParams.current = 1\r\n      this.getList()\r\n    },\r\n    encodeOssFileUri(ossUri) {\r\n      return encodeOssFileUri(ossUri)\r\n    },\r\n    openUpdateProfileDialog(curData) {\r\n      this.updateProfileDialogVisible = true\r\n      this.currentOperationData = curData\r\n      this.updateProfileDialogTitle = `更改课程[${curData.title}]信息`\r\n      setTimeout(function () {\r\n        this.$refs.UpdateDialog.setData(curData)\r\n      }.bind(this), 100)\r\n    },\r\n    // 初审视频\r\n    openWatchVideoDialog(curData) {\r\n      this.watchVideoDialogVisible = true\r\n      this.watchVideoDialogTitle = `查看课程《${curData.title}》视频`\r\n      setTimeout(function () {\r\n        this.$refs.WatchDialog.setData(curData.id)\r\n      }.bind(this), 100)\r\n    },\r\n    // 二审视频\r\n    openWatchVideoTmpDialog(curData) {\r\n      this.watchVideoTmpDialogVisible = true\r\n      this.watchVideoDialogTitle = `查看课程《${curData.title}》视频`\r\n      setTimeout(function () {\r\n        this.$refs.WatchTmpDialog.setData(curData.id)\r\n      }.bind(this), 100)\r\n    },\r\n    openRejectDialog(curData) {\r\n      this.currentOperationData = curData\r\n      this.rejectDialogVisible = true\r\n      this.rejectDialogTitle = `驳回课程《${curData.title}》`\r\n    },\r\n    getDetailsSubject(subjectParent) {\r\n      let subject = ''\r\n      let parent = subjectParent\r\n      while (parent) {\r\n        subject = `${parent.title} > ${subject}`\r\n        parent = parent.parent\r\n      }\r\n      return subject.substring(0, subject.length - 3)\r\n    },\r\n    // 获取列表信息\r\n    getList() {\r\n      this.tableDataLoading = true\r\n      list(this.searchParams).then(resp => {\r\n        this.total = resp.data.total\r\n        this.listData = resp.data.list\r\n        this.tableDataLoading = false\r\n      })\r\n    },\r\n    // 修改信息\r\n    updateProfile() {\r\n      const params = this.$refs.UpdateDialog.getData()\r\n      updateIt(params).then(resp => {\r\n        this.$message.success(resp.message)\r\n        this.updateProfileDialogVisible = false\r\n        this.getList()\r\n      })\r\n    },\r\n    // 通过审核\r\n    pass(curData) {\r\n      this.currentOperationData = curData\r\n      pass(curData.id).then(resp => {\r\n        this.$message.success(`课程[${curData.title}]已通过审核`)\r\n        this.getList()\r\n      })\r\n    },\r\n    // 驳回审核\r\n    reject() {\r\n      const course = this.currentOperationData\r\n      const params = jsonObj2FormData({ id: course.id, remarks: this.rejectRemarks })\r\n      reject(params).then(resp => {\r\n        this.$message.success(`课程[${course.title}]已驳回`)\r\n        this.rejectDialogVisible = false\r\n        this.getList()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"mappings":"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","ignoreList":[]}]}