{"remainingRequest":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\src\\store\\modules\\user.js","mtime":1646101641000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\babel.config.js","mtime":1646101641000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\86193\\Desktop\\OnlineEdu-Admin-master\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGxvZ2luIGFzIF9sb2dpbiwgbG9nb3V0IGFzIF9sb2dvdXQsIGdldEluZm8gYXMgX2dldEluZm8gfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IHsgcmVzZXRSb3V0ZXIgfSBmcm9tICdAL3JvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKdmFyIGdldERlZmF1bHRTdGF0ZSA9IGZ1bmN0aW9uIGdldERlZmF1bHRTdGF0ZSgpIHsKICByZXR1cm4gewogICAgdXNlcjoge30sCiAgICB0b2tlbjogJycKICB9Owp9Owp2YXIgc3RhdGUgPSBnZXREZWZhdWx0U3RhdGUoKTsKdmFyIG11dGF0aW9ucyA9IHsKICBSRVNFVF9TVEFURTogZnVuY3Rpb24gUkVTRVRfU1RBVEUoc3RhdGUpIHsKICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIGdldERlZmF1bHRTdGF0ZSgpKTsKICB9LAogIFNFVF9VU0VSOiBmdW5jdGlvbiBTRVRfVVNFUihzdGF0ZSwgdXNlcikgewogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfSwKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvLyB1c2VyIGxvZ2luCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXJJbmZvKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQsCiAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9sb2dpbih1c2VySW5mbykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgY29tbWl0KCdTRVRfVVNFUicsIGRhdGEpOwogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgZGF0YS50b2tlbik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgZGF0YS50b2tlbik7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8gZ2V0IHVzZXIgaW5mbwogIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8oX3JlZjIpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQsCiAgICAgIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2g7CiAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgdG9rZW4pOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgX2dldEluZm8oKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXMsCiAgICAgICAgICBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBpZiAoc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgIHJldHVybiByZWplY3QoJ+eUqOaIt+acquiupOivge+8jOivt+eZu+W9le+8gScpOwogICAgICAgIH0KICAgICAgICBjb21taXQoJ1NFVF9VU0VSJywgZGF0YSk7CiAgICAgICAgcmVzb2x2ZShkYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIHNldEluZm86IGZ1bmN0aW9uIHNldEluZm8oX3JlZjMsIHVzZXJJbmZvKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgY29tbWl0KCdTRVRfVVNFUicsIHVzZXJJbmZvKTsKICB9LAogIC8vIHVzZXIgbG9nb3V0CiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBfbG9nb3V0KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gcmVtb3ZlVG9rZW4oKSAvLyBtdXN0IHJlbW92ZSAgdG9rZW4gIGZpcnN0CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ3Jlc2V0Um91dGVycycpOwogICAgICAgIHJlc2V0Um91dGVyKCk7CiAgICAgICAgY29tbWl0KCdSRVNFVF9TVEFURScpOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"names":["login","logout","getInfo","resetRouter","store","getDefaultState","user","token","state","mutations","RESET_STATE","Object","assign","SET_USER","SET_TOKEN","actions","_ref","userInfo","commit","dispatch","Promise","resolve","reject","then","response","data","localStorage","setItem","catch","error","_ref2","getItem","status","setInfo","_ref3","_ref4","removeItem","namespaced"],"sources":["C:/Users/86193/Desktop/OnlineEdu-Admin-master/src/store/modules/user.js"],"sourcesContent":["import { login, logout, getInfo } from '@/api/user'\nimport { resetRouter } from '@/router'\nimport store from '@/store'\n\nconst getDefaultState = () => {\n  return {\n    user: {},\n    token: ''\n  }\n}\n\nconst state = getDefaultState()\n\nconst mutations = {\n  RESET_STATE: (state) => {\n    Object.assign(state, getDefaultState())\n  },\n  SET_USER: (state, user) => {\n    state.user = user\n  },\n  SET_TOKEN: (state, token) => {\n    state.token = token\n  }\n}\n\nconst actions = {\n  // user login\n  login({ commit, dispatch }, userInfo) {\n    return new Promise((resolve, reject) => {\n      login(userInfo).then(response => {\n        const { data } = response\n        commit('SET_USER', data)\n        commit('SET_TOKEN', data.token)\n        localStorage.setItem('token', data.token)\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  // get user info\n  getInfo({ commit, dispatch }) {\n    const token = localStorage.getItem('token')\n    commit('SET_TOKEN', token)\n    return new Promise((resolve, reject) => {\n      getInfo().then(response => {\n        const { status, data } = response\n        if (status !== 200) {\n          return reject('用户未认证，请登录！')\n        }\n        commit('SET_USER', data)\n        resolve(data)\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  setInfo({ commit }, userInfo) {\n    commit('SET_USER', userInfo)\n  },\n\n  // user logout\n  logout({ commit }) {\n    return new Promise((resolve, reject) => {\n      logout().then(() => {\n        // removeToken() // must remove  token  first\n        localStorage.removeItem('token')\n        store.dispatch('resetRouters')\n        resetRouter()\n        commit('RESET_STATE')\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n\n"],"mappings":"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","ignoreList":[]}]}