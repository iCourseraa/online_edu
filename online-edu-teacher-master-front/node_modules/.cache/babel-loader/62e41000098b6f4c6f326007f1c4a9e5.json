{"remainingRequest":"C:\\Users\\86193\\Desktop\\online_edu_V1230\\online-edu-teacher-master-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86193\\Desktop\\online_edu_V1230\\online-edu-teacher-master-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\86193\\Desktop\\online_edu_V1230\\online-edu-teacher-master-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86193\\Desktop\\online_edu_V1230\\online-edu-teacher-master-front\\src\\views\\course_update\\educourse_update.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1230\\online-edu-teacher-master-front\\src\\views\\course_update\\educourse_update.vue","mtime":1734500782768},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1230\\online-edu-teacher-master-front\\babel.config.js","mtime":1734500744126},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1230\\online-edu-teacher-master-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734683766888},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1230\\online-edu-teacher-master-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1734683771693},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1230\\online-edu-teacher-master-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734683766888},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1230\\online-edu-teacher-master-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1734683773729}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvODYxOTMvRGVza3RvcC9vbmxpbmVfZWR1X1YxMjMwL29ubGluZS1lZHUtdGVhY2hlci1tYXN0ZXItZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgZnJvbSAiQzovVXNlcnMvODYxOTMvRGVza3RvcC9vbmxpbmVfZWR1X1YxMjMwL29ubGluZS1lZHUtdGVhY2hlci1tYXN0ZXItZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2ludGVyb3BSZXF1aXJlV2lsZGNhcmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBnZXRJbmZvLCB1cGRhdGVJdCwgdXBkYXRlQ1YgYXMgX3VwZGF0ZUNWIH0gZnJvbSAnQC9hcGkvY291cnNlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZHVjb3Vyc2VVcGRhdGUnLAogIGNvbXBvbmVudHM6IHsKICAgICd2LWNyZWF0ZS1pbmZvJzogZnVuY3Rpb24gdkNyZWF0ZUluZm8oKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgnQC92aWV3cy9jb3Vyc2VfdXBkYXRlL2NyZWF0ZV9pbmZvJykpOwogICAgICB9KTsKICAgIH0sCiAgICAndi1jcmVhdGUtc3ViamVjdC1hbmQtdXBsb2FkJzogZnVuY3Rpb24gdkNyZWF0ZVN1YmplY3RBbmRVcGxvYWQoKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgnQC92aWV3cy9jb3Vyc2VfdXBkYXRlL2NyZWF0ZV9zdWJqZWN0X2FuZF91cGxvYWQnKSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0ZXBBY3RpdmU6IDEsCiAgICAgIGNvdXJzZURhdGE6IHt9LAogICAgICB1cGRhdGVDb3Vyc2VEYXRhOiB7fSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHVwZGF0ZUNWRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHN1Ym1pdENvdXJzZURpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICB3YXJuaW5nRGlhbG9nVmlzaWJsZTogZmFsc2UgLy8g6K++56iL5aSE5LqO5a6h5qC454q25oCB77yM6Ziy5q2i5L+u5pS56K2m5ZGK5qGGCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgIHRoaXMuZ2V0Q291cnNlSW5mbyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Q291cnNlSW5mbyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W6K+l6K6y5biI5Zyo6I2J56i/566x55qE6K++56iL77yM5aaC5p6c5pyJ77yM55u05o6l6L+b5YWl56ys5LqM5q2lCiAgICBnZXRDb3Vyc2VJbmZvOiBmdW5jdGlvbiBnZXRDb3Vyc2VJbmZvKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGdldEluZm8oaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpcy5jb3Vyc2VEYXRhID0gX29iamVjdFNwcmVhZCh7fSwgcmVzcC5kYXRhKTsKICAgICAgICBpZiAoX3RoaXMuY291cnNlRGF0YS5zdGF0dXMuaW5kZXhPZignQVVESVRJTkcnKSAhPT0gLTEpIHsKICAgICAgICAgIF90aGlzLndhcm5pbmdEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLkNyZWF0ZUluZm8uc2V0RGF0YSh0aGlzLmNvdXJzZURhdGEpOwogICAgICAgIH0uYmluZChfdGhpcyksIDEwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKHRoaXMuJHJlZnMuQ3JlYXRlSW5mbykgewogICAgICAgIHRoaXMudXBkYXRlQ291cnNlRGF0YSA9IHRoaXMuJHJlZnMuQ3JlYXRlSW5mby5nZXREYXRhKCk7CiAgICAgIH0KICAgICAgdXBkYXRlSXQodGhpcy51cGRhdGVDb3Vyc2VEYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgX3RoaXMyLnN1Ym1pdENvdXJzZURpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNwLm1lc3NhZ2UpOwogICAgICAgIF90aGlzMi5zdGVwQWN0aXZlID0gMzsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlQ1Y6IGZ1bmN0aW9uIHVwZGF0ZUNWKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy51cGRhdGVDb3Vyc2VEYXRhID0gdGhpcy4kcmVmcy5DcmVhdGVJbmZvLmdldERhdGEoKTsKICAgICAgX3VwZGF0ZUNWKHRoaXMuY291cnNlRGF0YS5pZCkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzMy51cGRhdGVDVkRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pWw5o2u5YeG5aSH5a6M5oiQJyk7CiAgICAgICAgX3RoaXMzLnN0ZXBBY3RpdmUgPSAyOwogICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["getInfo","updateIt","updateCV","name","components","vCreateInfo","Promise","resolve","then","_interopRequireWildcard","require","vCreateSubjectAndUpload","data","stepActive","courseData","updateCourseData","loading","updateCVDialogVisible","submitCourseDialogVisible","warningDialogVisible","watch","$route","to","from","getCourseInfo","params","id","created","methods","_this","resp","_objectSpread","status","indexOf","setTimeout","$refs","CreateInfo","setData","bind","submit","_this2","getData","$message","success","message","_this3"],"sources":["src/views/course_update/educourse_update.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div style=\"font-size: 24px;text-align: center;margin-bottom:36px; \">\r\n      <div v-if=\"stepActive===1\">更新课程信息</div>\r\n      <div v-else-if=\"stepActive===2\">更新章节与视频信息</div>\r\n      <div v-else-if=\"stepActive===3\">审核中</div>\r\n    </div>\r\n    <div class=\"step-container\">\r\n      <div v-if=\"stepActive===1\">\r\n        <v-create-info ref=\"CreateInfo\" />\r\n        <div class=\"step-ctrl\">\r\n          <el-button type=\"primary\" style=\"margin-right: 24px\" @click=\"submitCourseDialogVisible=true\">\r\n            提 交 审 核\r\n          </el-button>\r\n          <el-button class=\"btn\" type=\"primary\" @click=\"updateCVDialogVisible=true\">\r\n            继续更新章节与视频信息\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"stepActive===2\" v-loading=\"loading\">\r\n        <v-create-subject-and-upload ref=\"createSubjectAndUpload\" :course=\"courseData\" />\r\n        <div class=\"step-ctrl\">\r\n          <el-button class=\"btn\" type=\"primary\" @click=\"submitCourseDialogVisible=true\">提 交 审 核</el-button>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"stepActive===3\">\r\n        <div style=\"font-size: 20px;margin: 16vh 0 10vh 0;text-align: center\">\r\n          课程《{{ courseData.title }}》已提交管理员审核\r\n        </div>\r\n        <router-link :to=\"{name:'CourseList'}\" class=\"step-ctrl\">\r\n          <el-button class=\"btn\" type=\"primary\">返回课程列表</el-button>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <el-dialog\r\n        title=\"提示\"\r\n        :visible.sync=\"submitCourseDialogVisible\"\r\n        destroy-on-close\r\n        width=\"30vw\"\r\n      >\r\n        <div style=\"line-height: 24px\">\r\n          请确认章节与视频信息是否准确，提交后需要管理员审核后才能再次修改。\r\n        </div>\r\n        <span slot=\"footer\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"submit\">确 认</el-button>\r\n          <el-button size=\"small\" @click=\"submitCourseDialogVisible = false\">取 消</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <el-dialog\r\n        title=\"提示\"\r\n        :visible.sync=\"updateCVDialogVisible\"\r\n        destroy-on-close\r\n        width=\"30vw\"\r\n      >\r\n        <div style=\"line-height: 24px\">\r\n          是否继续更新课程章节与视频信息？继续修改不会影响到您已经发布课程，审核通过后才会更新。\r\n        </div>\r\n        <span slot=\"footer\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"updateCV\">确 认</el-button>\r\n          <el-button size=\"small\" @click=\"updateCVDialogVisible = false\">取 消</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <el-dialog\r\n        title=\"警告\"\r\n        :visible.sync=\"warningDialogVisible\"\r\n        destroy-on-close\r\n        width=\"30vw\"\r\n        @closed=\"$router.push({name:'CourseList'})\"\r\n      >\r\n        <div style=\"font-size: 16px;line-height: 32px\">\r\n          <div>课程《{{ courseData.title }}》正在<span style=\"color: #21BA45\">审核中</span></div>\r\n          <div style=\"color: #F44336\">请不要尝试修改</div>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { getInfo, updateIt, updateCV } from '@/api/course'\r\n\r\nexport default {\r\n  name: 'EducourseUpdate',\r\n  components: {\r\n    'v-create-info': () => import('@/views/course_update/create_info'),\r\n    'v-create-subject-and-upload': () => import('@/views/course_update/create_subject_and_upload')\r\n  },\r\n  data() {\r\n    return {\r\n      stepActive: 1,\r\n      courseData: {},\r\n      updateCourseData: {},\r\n      loading: false,\r\n      updateCVDialogVisible: false,\r\n      submitCourseDialogVisible: false,\r\n      warningDialogVisible: false // 课程处于审核状态，防止修改警告框\r\n    }\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      this.getCourseInfo(this.$route.params.id)\r\n    }\r\n  },\r\n  created() {\r\n    this.getCourseInfo(this.$route.params.id)\r\n  },\r\n  methods: {\r\n    // 获取该讲师在草稿箱的课程，如果有，直接进入第二步\r\n    getCourseInfo(id) {\r\n      getInfo(id).then(resp => {\r\n        this.courseData = { ...resp.data }\r\n        if (this.courseData.status.indexOf('AUDITING') !== -1) {\r\n          this.warningDialogVisible = true\r\n        }\r\n        setTimeout(function() {\r\n          this.$refs.CreateInfo.setData(this.courseData)\r\n        }.bind(this), 100)\r\n      })\r\n    },\r\n    submit() {\r\n      if (this.$refs.CreateInfo) {\r\n        this.updateCourseData = this.$refs.CreateInfo.getData()\r\n      }\r\n      updateIt(this.updateCourseData).then(resp => {\r\n        this.submitCourseDialogVisible = false\r\n        this.$message.success(resp.message)\r\n        this.stepActive = 3\r\n      })\r\n    },\r\n    updateCV() {\r\n      this.loading = true\r\n      this.updateCourseData = this.$refs.CreateInfo.getData()\r\n      updateCV(this.courseData.id).then(resp => {\r\n        this.updateCVDialogVisible = false\r\n        this.$message.success('数据准备完成')\r\n        this.stepActive = 2\r\n        this.loading = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.step-container {\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  > div {\r\n    width: 70%;\r\n  }\r\n\r\n  .step-ctrl {\r\n    margin-top: 64px;\r\n    text-align: center;\r\n    display: block;\r\n\r\n    .btn {\r\n      width: 300px;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA,SAAAA,OAAA,EAAAC,QAAA,EAAAC,QAAA,IAAAA,SAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACA,0BAAAC,YAAA;MAAA,OAAAC,OAAA,CAAAC,OAAA,GAAAC,IAAA;QAAA,OAAAC,uBAAA,CAAAC,OAAA;MAAA;IAAA;IACA,wCAAAC,wBAAA;MAAA,OAAAL,OAAA,CAAAC,OAAA,GAAAC,IAAA;QAAA,OAAAC,uBAAA,CAAAC,OAAA;MAAA;IAAA;EACA;EACAE,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,UAAA;MACAC,gBAAA;MACAC,OAAA;MACAC,qBAAA;MACAC,yBAAA;MACAC,oBAAA;IACA;EACA;EACAC,KAAA;IACAC,MAAA,WAAAA,OAAAC,EAAA,EAAAC,IAAA;MACA,KAAAC,aAAA,MAAAH,MAAA,CAAAI,MAAA,CAAAC,EAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAH,aAAA,MAAAH,MAAA,CAAAI,MAAA,CAAAC,EAAA;EACA;EACAE,OAAA;IACA;IACAJ,aAAA,WAAAA,cAAAE,EAAA;MAAA,IAAAG,KAAA;MACA7B,OAAA,CAAA0B,EAAA,EAAAlB,IAAA,WAAAsB,IAAA;QACAD,KAAA,CAAAf,UAAA,GAAAiB,aAAA,KAAAD,IAAA,CAAAlB,IAAA;QACA,IAAAiB,KAAA,CAAAf,UAAA,CAAAkB,MAAA,CAAAC,OAAA;UACAJ,KAAA,CAAAV,oBAAA;QACA;QACAe,UAAA;UACA,KAAAC,KAAA,CAAAC,UAAA,CAAAC,OAAA,MAAAvB,UAAA;QACA,EAAAwB,IAAA,CAAAT,KAAA;MACA;IACA;IACAU,MAAA,WAAAA,OAAA;MAAA,IAAAC,MAAA;MACA,SAAAL,KAAA,CAAAC,UAAA;QACA,KAAArB,gBAAA,QAAAoB,KAAA,CAAAC,UAAA,CAAAK,OAAA;MACA;MACAxC,QAAA,MAAAc,gBAAA,EAAAP,IAAA,WAAAsB,IAAA;QACAU,MAAA,CAAAtB,yBAAA;QACAsB,MAAA,CAAAE,QAAA,CAAAC,OAAA,CAAAb,IAAA,CAAAc,OAAA;QACAJ,MAAA,CAAA3B,UAAA;MACA;IACA;IACAX,QAAA,WAAAA,SAAA;MAAA,IAAA2C,MAAA;MACA,KAAA7B,OAAA;MACA,KAAAD,gBAAA,QAAAoB,KAAA,CAAAC,UAAA,CAAAK,OAAA;MACAvC,SAAA,MAAAY,UAAA,CAAAY,EAAA,EAAAlB,IAAA,WAAAsB,IAAA;QACAe,MAAA,CAAA5B,qBAAA;QACA4B,MAAA,CAAAH,QAAA,CAAAC,OAAA;QACAE,MAAA,CAAAhC,UAAA;QACAgC,MAAA,CAAA7B,OAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}