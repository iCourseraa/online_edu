{"remainingRequest":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\src\\views\\course_add\\educourse_add.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\src\\views\\course_add\\educourse_add.vue","mtime":1734500782765},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\babel.config.js","mtime":1734500744126},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734683766888},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1734683771693},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734683766888},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1734683773729}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIGZyb20gIkM6L1VzZXJzLzg2MTkzL0Rlc2t0b3Avb25saW5lX2VkdV9WMTIyNC9vbmxpbmUtZWR1LXRlYWNoZXItbWFzdGVyLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZUl0LCBnZXREcmFmdCBhcyBfZ2V0RHJhZnQsIHN1Ym1pdEl0IH0gZnJvbSAnQC9hcGkvY291cnNlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZHVjb3Vyc2VBZGQnLAogIGNvbXBvbmVudHM6IHsKICAgICd2LWNyZWF0ZS1pbmZvJzogZnVuY3Rpb24gdkNyZWF0ZUluZm8oKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgnQC92aWV3cy9jb3Vyc2VfYWRkL2NyZWF0ZV9pbmZvJykpOwogICAgICB9KTsKICAgIH0sCiAgICAndi1jcmVhdGUtc3ViamVjdC1hbmQtdXBsb2FkJzogZnVuY3Rpb24gdkNyZWF0ZVN1YmplY3RBbmRVcGxvYWQoKSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgnQC92aWV3cy9jb3Vyc2VfYWRkL2NyZWF0ZV9zdWJqZWN0X2FuZF91cGxvYWQnKSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0ZXBBY3RpdmU6IDEsCiAgICAgIGNvdXJzZURhdGE6IHt9LAogICAgICBjcmVhdGVDb3Vyc2VEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc3VibWl0Q291cnNlRGlhbG9nVmlzaWJsZTogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREcmFmdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlQ291cnNlOiBmdW5jdGlvbiBjcmVhdGVDb3Vyc2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBjb3Vyc2UgPSB0aGlzLiRyZWZzLkNyZWF0ZUluZm8uZ2V0RGF0YSgpOwogICAgICBjcmVhdGVJdChjb3Vyc2UpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpcy5jcmVhdGVDb3Vyc2VEaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgX3RoaXMuY291cnNlRGF0YSA9IHJlc3AuZGF0YTsKICAgICAgICBfdGhpcy5zdGVwQWN0aXZlID0gMjsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W6K+l6K6y5biI5Zyo6I2J56i/566x55qE6K++56iL77yM5aaC5p6c5pyJ77yM55u05o6l6L+b5YWl56ys5LqM5q2lCiAgICBnZXREcmFmdDogZnVuY3Rpb24gZ2V0RHJhZnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBfZ2V0RHJhZnQoKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuZGF0YSkgewogICAgICAgICAgX3RoaXMyLmNvdXJzZURhdGEgPSByZXNwLmRhdGE7CiAgICAgICAgICBfdGhpczIuc3RlcEFjdGl2ZSA9IDI7CiAgICAgICAgICAvLyDpgJrnn6UKICAgICAgICAgIF90aGlzMi4kbm90aWZ5LmNsb3NlQWxsKCk7CiAgICAgICAgICBfdGhpczIuJG5vdGlmeS5pbmZvKHsKICAgICAgICAgICAgdGl0bGU6ICfmj5DnpLonLAogICAgICAgICAgICBtZXNzYWdlOiAn5qOA5rWL5Yiw5oKo6I2J56i/566x5pyJ5pyq5a6M5oiQ55qE6K++56iL5L+h5oGv77yM5bey6Ieq5Yqo5Li65oKo5aSN5Y6fJywKICAgICAgICAgICAgb2Zmc2V0OiA1MAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHN1Ym1pdEl0KHRoaXMuY291cnNlRGF0YS5pZCkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzMy5zdWJtaXRDb3Vyc2VEaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzcC5tZXNzYWdlKTsKICAgICAgICBfdGhpczMuc3RlcEFjdGl2ZSA9IDM7CiAgICAgIH0pOwogICAgfSwKICAgIHJlRW50ZXI6IGZ1bmN0aW9uIHJlRW50ZXIoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICBuYW1lOiAnUmVmcmVzaCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHQ6IERhdGUubm93KCkgKyAnJwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["createIt","getDraft","submitIt","name","components","vCreateInfo","Promise","resolve","then","_interopRequireWildcard","require","vCreateSubjectAndUpload","data","stepActive","courseData","createCourseDialogVisible","submitCourseDialogVisible","created","methods","createCourse","_this","course","$refs","CreateInfo","getData","resp","_this2","$notify","closeAll","info","title","message","offset","submit","_this3","id","$message","success","reEnter","$router","replace","query","t","Date","now"],"sources":["src/views/course_add/educourse_add.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-steps :active=\"stepActive\" align-center>\r\n      <el-step title=\"创建课程基本信息\" />\r\n      <el-step title=\"新建章节并上传视频\" />\r\n      <el-step title=\"提交审核\" />\r\n    </el-steps>\r\n    <div class=\"step-container\">\r\n      <div v-if=\"stepActive===1\">\r\n        <v-create-info ref=\"CreateInfo\" />\r\n        <div class=\"step-ctrl\">\r\n          <el-button class=\"btn\" type=\"primary\" @click=\"createCourseDialogVisible=true\">下一步</el-button>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"stepActive===2\">\r\n        <v-create-subject-and-upload ref=\"createSubjectAndUpload\" :course=\"courseData\" />\r\n        <div class=\"step-ctrl\" style=\"margin-top: 100px\">\r\n          <el-button class=\"btn\" type=\"primary\" @click=\"submitCourseDialogVisible=true\">提 交</el-button>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"stepActive===3\">\r\n        <div style=\"font-size: 20px;margin: 16vh 0 10vh 0;text-align: center\">\r\n          课程《{{ courseData.title }}》已提交管理员审核\r\n        </div>\r\n        <div class=\"step-ctrl\">\r\n          <router-link :to=\"{name:'CourseList'}\" style=\"margin-right: 20px\">\r\n            <el-button type=\"primary\" style=\"width: 160px\">返回课程列表</el-button>\r\n          </router-link>\r\n          <el-button type=\"warning\" style=\"width: 160px\" @click=\"reEnter\">继续发布课程</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <el-dialog\r\n        title=\"是否创建课程\"\r\n        :visible.sync=\"createCourseDialogVisible\"\r\n        destroy-on-close\r\n        width=\"30vw\"\r\n      >\r\n        <div>请确认课程信息是否准确，提交下一步后将无法返回</div>\r\n        <span slot=\"footer\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"createCourse\">确 认</el-button>\r\n          <el-button size=\"small\" @click=\"createCourseDialogVisible = false\">取 消</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <el-dialog\r\n        title=\"是否提交课程\"\r\n        :visible.sync=\"submitCourseDialogVisible\"\r\n        destroy-on-close\r\n        width=\"30vw\"\r\n      >\r\n        <div>请确认章节与视频信息是否准确，提交后将无法返回</div>\r\n        <span slot=\"footer\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"submit\">确 认</el-button>\r\n          <el-button size=\"small\" @click=\"submitCourseDialogVisible = false\">取 消</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { createIt, getDraft, submitIt } from '@/api/course'\r\n\r\nexport default {\r\n  name: 'EducourseAdd',\r\n  components: {\r\n    'v-create-info': () => import('@/views/course_add/create_info'),\r\n    'v-create-subject-and-upload': () => import('@/views/course_add/create_subject_and_upload')\r\n  },\r\n  data() {\r\n    return {\r\n      stepActive: 1,\r\n      courseData: {},\r\n      createCourseDialogVisible: false,\r\n      submitCourseDialogVisible: false\r\n    }\r\n  },\r\n  created() {\r\n    this.getDraft()\r\n  },\r\n  methods: {\r\n    createCourse() {\r\n      const course = this.$refs.CreateInfo.getData()\r\n      createIt(course).then(resp => {\r\n        this.createCourseDialogVisible = false\r\n        this.courseData = resp.data\r\n        this.stepActive = 2\r\n      })\r\n    },\r\n    // 获取该讲师在草稿箱的课程，如果有，直接进入第二步\r\n    getDraft() {\r\n      getDraft().then(resp => {\r\n        if (resp.data) {\r\n          this.courseData = resp.data\r\n          this.stepActive = 2\r\n          // 通知\r\n          this.$notify.closeAll()\r\n          this.$notify.info({\r\n            title: '提示',\r\n            message: '检测到您草稿箱有未完成的课程信息，已自动为您复原',\r\n            offset: 50\r\n          })\r\n        }\r\n      })\r\n    },\r\n    submit() {\r\n      submitIt(this.courseData.id).then(resp => {\r\n        this.submitCourseDialogVisible = false\r\n        this.$message.success(resp.message)\r\n        this.stepActive = 3\r\n      })\r\n    },\r\n    reEnter() {\r\n      this.$router.replace({\r\n        name: 'Refresh',\r\n        query: {\r\n          t: Date.now() + ''\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.step-container {\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  >div{\r\n    width: 70%;\r\n  }\r\n\r\n  .step-ctrl {\r\n    margin-top: 36px;\r\n    text-align: center;\r\n    display: block;\r\n\r\n    .btn {\r\n      width: 300px;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,SAAAA,QAAA,EAAAC,QAAA,IAAAA,SAAA,EAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IACA,0BAAAC,YAAA;MAAA,OAAAC,OAAA,CAAAC,OAAA,GAAAC,IAAA;QAAA,OAAAC,uBAAA,CAAAC,OAAA;MAAA;IAAA;IACA,wCAAAC,wBAAA;MAAA,OAAAL,OAAA,CAAAC,OAAA,GAAAC,IAAA;QAAA,OAAAC,uBAAA,CAAAC,OAAA;MAAA;IAAA;EACA;EACAE,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,UAAA;MACAC,yBAAA;MACAC,yBAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAhB,QAAA;EACA;EACAiB,OAAA;IACAC,YAAA,WAAAA,aAAA;MAAA,IAAAC,KAAA;MACA,IAAAC,MAAA,QAAAC,KAAA,CAAAC,UAAA,CAAAC,OAAA;MACAxB,QAAA,CAAAqB,MAAA,EAAAb,IAAA,WAAAiB,IAAA;QACAL,KAAA,CAAAL,yBAAA;QACAK,KAAA,CAAAN,UAAA,GAAAW,IAAA,CAAAb,IAAA;QACAQ,KAAA,CAAAP,UAAA;MACA;IACA;IACA;IACAZ,QAAA,WAAAA,SAAA;MAAA,IAAAyB,MAAA;MACAzB,SAAA,GAAAO,IAAA,WAAAiB,IAAA;QACA,IAAAA,IAAA,CAAAb,IAAA;UACAc,MAAA,CAAAZ,UAAA,GAAAW,IAAA,CAAAb,IAAA;UACAc,MAAA,CAAAb,UAAA;UACA;UACAa,MAAA,CAAAC,OAAA,CAAAC,QAAA;UACAF,MAAA,CAAAC,OAAA,CAAAE,IAAA;YACAC,KAAA;YACAC,OAAA;YACAC,MAAA;UACA;QACA;MACA;IACA;IACAC,MAAA,WAAAA,OAAA;MAAA,IAAAC,MAAA;MACAhC,QAAA,MAAAY,UAAA,CAAAqB,EAAA,EAAA3B,IAAA,WAAAiB,IAAA;QACAS,MAAA,CAAAlB,yBAAA;QACAkB,MAAA,CAAAE,QAAA,CAAAC,OAAA,CAAAZ,IAAA,CAAAM,OAAA;QACAG,MAAA,CAAArB,UAAA;MACA;IACA;IACAyB,OAAA,WAAAA,QAAA;MACA,KAAAC,OAAA,CAAAC,OAAA;QACArC,IAAA;QACAsC,KAAA;UACAC,CAAA,EAAAC,IAAA,CAAAC,GAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}