{"remainingRequest":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\src\\store\\modules\\user.js","mtime":1734500782754},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\babel.config.js","mtime":1734500744126},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734683766888},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1734683771693},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\eslint-loader\\index.js","mtime":1734683767760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGxvZ2luIGFzIF9sb2dpbiwgbG9nb3V0IGFzIF9sb2dvdXQsIGdldEluZm8gYXMgX2dldEluZm8gfSBmcm9tICdAL2FwaS91c2VyJzsKdmFyIGdldERlZmF1bHRTdGF0ZSA9IGZ1bmN0aW9uIGdldERlZmF1bHRTdGF0ZSgpIHsKICByZXR1cm4gewogICAgdXNlcjoge30sCiAgICB0b2tlbjogJycsCiAgICBtZXNzYWdlQ291bnQ6IDAKICB9Owp9Owp2YXIgc3RhdGUgPSBnZXREZWZhdWx0U3RhdGUoKTsKdmFyIG11dGF0aW9ucyA9IHsKICBSRVNFVF9TVEFURTogZnVuY3Rpb24gUkVTRVRfU1RBVEUoc3RhdGUpIHsKICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIGdldERlZmF1bHRTdGF0ZSgpKTsKICB9LAogIFNFVF9VU0VSOiBmdW5jdGlvbiBTRVRfVVNFUihzdGF0ZSwgdXNlcikgewogICAgc3RhdGUudXNlciA9IHVzZXIgfHwge307CiAgfSwKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW4gfHwgJyc7CiAgfSwKICBTRVRfTUVTU0FHRV9DT1VOVDogZnVuY3Rpb24gU0VUX01FU1NBR0VfQ09VTlQoc3RhdGUsIGNvdW50KSB7CiAgICBzdGF0ZS5tZXNzYWdlQ291bnQgPSBjb3VudCB8fCAwOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy8gdXNlciBsb2dpbgogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VySW5mbykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0LAogICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBfbG9naW4odXNlckluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbW1pdCgnU0VUX1VTRVInLCBkYXRhKTsKICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsIGRhdGEudG9rZW4pOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIGRhdGEudG9rZW4pOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIGdldCB1c2VyIGluZm8KICBnZXRJbmZvOiBmdW5jdGlvbiBnZXRJbmZvKF9yZWYyKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0LAogICAgICBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoOwogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICBjb21taXQoJ1NFVF9UT0tFTicsIHRva2VuKTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9nZXRJbmZvKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzLAogICAgICAgICAgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgaWYgKHN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KCfnlKjmiLfmnKrorqTor4HvvIzor7fnmbvlvZXvvIEnKTsKICAgICAgICB9CiAgICAgICAgY29tbWl0KCdTRVRfVVNFUicsIGRhdGEpOwogICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBzZXRJbmZvOiBmdW5jdGlvbiBzZXRJbmZvKF9yZWYzLCB1c2VySW5mbykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgIGNvbW1pdCgnU0VUX1VTRVInLCB1c2VySW5mbyk7CiAgfSwKICBzZXRNZXNzYWdlQ291bnQ6IGZ1bmN0aW9uIHNldE1lc3NhZ2VDb3VudChfcmVmNCwgY291bnQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICBjb21taXQoJ1NFVF9NRVNTQUdFX0NPVU5UJywgY291bnQpOwogIH0sCiAgLy8gdXNlciBsb2dvdXQKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9sb2dvdXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyByZW1vdmVUb2tlbigpIC8vIG11c3QgcmVtb3ZlICB0b2tlbiAgZmlyc3QKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgICAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"names":["login","logout","getInfo","getDefaultState","user","token","messageCount","state","mutations","RESET_STATE","Object","assign","SET_USER","SET_TOKEN","SET_MESSAGE_COUNT","count","actions","_ref","userInfo","commit","dispatch","Promise","resolve","reject","then","response","data","localStorage","setItem","catch","error","_ref2","getItem","status","setInfo","_ref3","setMessageCount","_ref4","_ref5","removeItem","namespaced"],"sources":["C:/Users/86193/Desktop/online_edu_V1224/online-edu-teacher-master-front/src/store/modules/user.js"],"sourcesContent":["import { login, logout, getInfo } from '@/api/user'\r\n\r\nconst getDefaultState = () => {\r\n  return {\r\n    user: {},\r\n    token: '',\r\n    messageCount: 0\r\n  }\r\n}\r\n\r\nconst state = getDefaultState()\r\n\r\nconst mutations = {\r\n  RESET_STATE: (state) => {\r\n    Object.assign(state, getDefaultState())\r\n  },\r\n  SET_USER: (state, user) => {\r\n    state.user = user || {}\r\n  },\r\n  SET_TOKEN: (state, token) => {\r\n    state.token = token || ''\r\n  },\r\n  SET_MESSAGE_COUNT: (state, count) => {\r\n    state.messageCount = count || 0\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  // user login\r\n  login({ commit, dispatch }, userInfo) {\r\n    return new Promise((resolve, reject) => {\r\n      login(userInfo).then(response => {\r\n        const { data } = response\r\n        commit('SET_USER', data)\r\n        commit('SET_TOKEN', data.token)\r\n        localStorage.setItem('token', data.token)\r\n        resolve()\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n  },\r\n\r\n  // get user info\r\n  getInfo({ commit, dispatch }) {\r\n    const token = localStorage.getItem('token')\r\n    commit('SET_TOKEN', token)\r\n    return new Promise((resolve, reject) => {\r\n      getInfo().then(response => {\r\n        const { status, data } = response\r\n        if (status !== 200) {\r\n          return reject('用户未认证，请登录！')\r\n        }\r\n        commit('SET_USER', data)\r\n        resolve(data)\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n  },\r\n\r\n  setInfo({ commit }, userInfo) {\r\n    commit('SET_USER', userInfo)\r\n  },\r\n\r\n  setMessageCount({ commit }, count) {\r\n    commit('SET_MESSAGE_COUNT', count)\r\n  },\r\n\r\n  // user logout\r\n  logout({ commit }) {\r\n    return new Promise((resolve, reject) => {\r\n      logout().then(() => {\r\n        // removeToken() // must remove  token  first\r\n        localStorage.removeItem('token')\r\n        commit('RESET_STATE')\r\n        resolve()\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]}]}