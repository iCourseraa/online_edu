{"remainingRequest":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\src\\views\\dashboard\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\src\\views\\dashboard\\index.vue","mtime":1734967670145},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734683766888},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1734683771693},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734683766888},{"path":"C:\\Users\\86193\\Desktop\\online_edu_V1224\\online-edu-teacher-master-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1734683773729}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4Jw0KLy8gaW1wb3J0IHsgZ2V0RGFpbHkgfSBmcm9tICdAL2FwaS9zdGF0Jw0KaW1wb3J0IHsgZ2V0Tm90UmVhZE1lc3NhZ2VDb3VudCB9IGZyb20gJ0AvYXBpL21lc3NhZ2UnDQppbXBvcnQgeyBnZXRTdGF0IH0gZnJvbSAnQC9hcGkvc3RhdCcNCmltcG9ydCB7IHBhcnNlVGltZSB9IGZyb20gJ0AvdXRpbHMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0Rhc2hib2FyZCcsDQogIGNvbXBvbmVudHM6IHsNCiAgICAndi1zdGF0LWRhaWx5JzogKCkgPT4gaW1wb3J0KCdAL3ZpZXdzL2Rhc2hib2FyZC9kYWlseScpDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHN0YXQ6IHsNCiAgICAgICAgYXVkaXRpbmdDb21tZW50Q291bnQ6IDAsDQogICAgICAgIGNvbW1lbnRDb3VudDogMCwNCiAgICAgICAgY291cnNlQ291bnQ6IDAsDQogICAgICAgIGpvaW5EYXRlVGltZTogJycsDQogICAgICAgIGpvaW5EYXlzQ291bnQ6IDAsDQogICAgICAgIHZpZGVvQ291bnQ6IDANCiAgICAgIH0sDQoNCiAgICAgIHBpY2tlck9wdGlvbnM6IHsNCiAgICAgICAgc2hvcnRjdXRzOiBbew0KICAgICAgICAgIHRleHQ6ICfmnIDov5HljYrkuKrmnIgnLA0KICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7DQogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpDQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkNCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDE0KQ0KICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSwgew0KICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDkuKrmnIgnLA0KICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7DQogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpDQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkNCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDMwKQ0KICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSwgew0KICAgICAgICAgIHRleHQ6ICfmnIDov5HkuKTkuKrmnIgnLA0KICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7DQogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpDQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkNCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDYwKQ0KICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSwgew0KICAgICAgICAgIHRleHQ6ICfmnIDov5HkuInkuKrmnIgnLA0KICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7DQogICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpDQogICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkNCiAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDkwKQ0KICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKQ0KICAgICAgICAgIH0NCiAgICAgICAgfV0NCiAgICAgIH0sDQogICAgICAvLyBbYmVnaW4sIGVuZF0NCiAgICAgIGJlZ2luVG9FbmQ6IFsNCiAgICAgICAgcGFyc2VUaW1lKG5ldyBEYXRlKG5ldyBEYXRlKG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpLmdldFRpbWUoKSkuZ2V0VGltZSgpIC0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwLCAnJyksDQogICAgICAgIHBhcnNlVGltZShuZXcgRGF0ZShuZXcgRGF0ZShuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpKS5nZXRUaW1lKCkpLmdldFRpbWUoKSwgJycpDQogICAgICBdDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWw0KICAgICAgJ3VzZXInLA0KICAgICAgJ21lc3NhZ2VDb3VudCcNCiAgICBdKSwNCiAgICBnZXRUaW1lU3RhdGUoKSB7DQogICAgICBjb25zdCBob3VyID0gbmV3IERhdGUoKS5nZXRIb3VycygpDQogICAgICBsZXQgdGV4dCA9ICcnDQogICAgICBpZiAoaG91ciA8IDYpIHsNCiAgICAgICAgdGV4dCA9ICflh4zmmajlpb0nDQogICAgICB9IGVsc2UgaWYgKGhvdXIgPCA5KSB7DQogICAgICAgIHRleHQgPSAn5pep5LiK5aW9Jw0KICAgICAgfSBlbHNlIGlmIChob3VyIDwgMTIpIHsNCiAgICAgICAgdGV4dCA9ICfkuIrljYjlpb0nDQogICAgICB9IGVsc2UgaWYgKGhvdXIgPCAxNCkgew0KICAgICAgICB0ZXh0ID0gJ+S4reWNiOWlvScNCiAgICAgIH0gZWxzZSBpZiAoaG91ciA8IDE3KSB7DQogICAgICAgIHRleHQgPSAn5LiL5Y2I5aW9Jw0KICAgICAgfSBlbHNlIGlmIChob3VyIDwgMTkpIHsNCiAgICAgICAgdGV4dCA9ICflgo3mmZrlpb0nDQogICAgICB9IGVsc2UgaWYgKGhvdXIgPCAyMikgew0KICAgICAgICB0ZXh0ID0gJ+aZmuS4iuWlvScNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRleHQgPSAn5aSc6YeM5aW9Jw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHRleHQNCiAgICB9LA0KICAgIGRlZmF1bHRCZWdpblRvRW5kKCkgew0KICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUobmV3IERhdGUobmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKSkuZ2V0VGltZSgpKS5nZXRUaW1lKCkNCiAgICAgIGNvbnN0IHN0YXJ0ID0gcGFyc2VUaW1lKG5vdyAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCwgJycpDQogICAgICBjb25zdCBlbmQgPSBwYXJzZVRpbWUobm93LCAnJykNCiAgICAgIHJldHVybiBbc3RhcnQsIGVuZF0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRNZXNzYWdlQ291bnQoKQ0KICAgIHRoaXMuZ2V0U3RhdCgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDojrflj5bmtojmga/mlbDph48NCiAgICBnZXRNZXNzYWdlQ291bnQoKSB7DQogICAgICBnZXROb3RSZWFkTWVzc2FnZUNvdW50KCkudGhlbihyZXNwID0+IHsNCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXIvc2V0TWVzc2FnZUNvdW50JywgcmVzcC5kYXRhKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldFN0YXQoKSB7DQogICAgICBnZXRTdGF0KCkudGhlbihyZXNwID0+IHsNCiAgICAgICAgdGhpcy5zdGF0ID0gcmVzcC5kYXRhDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div style=\"margin-bottom: 24px\">\r\n      <span>{{ getTimeState }}！</span>\r\n      <span>尊敬的讲师<strong>「{{ user.name || '' }}」</strong>！</span>\r\n      <span>欢迎您使用在线教育平台！</span>\r\n    </div>\r\n    <el-row :gutter=\"20\">\r\n      <el-col :xs=\"12\" :sm=\"6\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span class=\"cardName\">已上架课程数量</span>\r\n          </div>\r\n          <div class=\"cardContent clearfix\">\r\n            <el-tooltip effect=\"dark\" placement=\"top\">\r\n              <div slot=\"content\">已上架的课程总数量为：{{ stat.courseCount }}</div>\r\n              <span>{{ stat.courseCount }}</span>\r\n            </el-tooltip>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :xs=\"12\" :sm=\"6\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span class=\"cardName\">课程视频数量</span>\r\n          </div>\r\n          <div class=\"cardContent clearfix\">\r\n            <el-tooltip effect=\"dark\" placement=\"top\">\r\n              <div slot=\"content\">已上架课程视频总数量为：{{ stat.videoCount }}</div>\r\n              <span>{{ stat.videoCount }}</span>\r\n            </el-tooltip>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :xs=\"12\" :sm=\"6\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span class=\"cardName\">评论数量</span>\r\n          </div>\r\n          <div class=\"cardContent clearfix\">\r\n            <el-tooltip effect=\"dark\" placement=\"top\">\r\n              <div slot=\"content\">评论总数量为：{{ stat.commentCount }}</div>\r\n              <span>{{ stat.commentCount }}</span>\r\n            </el-tooltip>\r\n            <el-tooltip effect=\"dark\" placement=\"top\">\r\n              <div slot=\"content\">{{ stat.auditingCommentCount }} 条评论待审核</div>\r\n              <span style=\"float: right;color: #21BA45\">{{ stat.auditingCommentCount }}</span>\r\n            </el-tooltip>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :xs=\"12\" :sm=\"6\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span class=\"cardName\">加入时间</span>\r\n          </div>\r\n          <div class=\"cardContent clearfix\">\r\n            <el-tooltip effect=\"dark\" placement=\"top\">\r\n              <div slot=\"content\">您于 {{ stat.joinDateTime }} 加入本平台</div>\r\n              <span>{{ stat.joinDaysCount }} <span style=\"font-size: 15px\">天</span></span>\r\n            </el-tooltip>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <!-- 每日统计量 -->\r\n      <el-col :span=\"24\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\" style=\"height: 28px;line-height: 28px\">\r\n            <span class=\"cardName\">每日数据统计</span>\r\n            <div class=\"cardName\" style=\"float: right\">\r\n              统计日期区间：\r\n              <el-date-picker\r\n                v-model=\"beginToEnd\"\r\n                style=\"width: 260px\"\r\n                size=\"mini\"\r\n                type=\"daterange\"\r\n                :picker-options=\"pickerOptions\"\r\n                :clearable=\"false\"\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始日期\"\r\n                end-placeholder=\"结束日期\"\r\n                format=\"yyyy-MM-dd\"\r\n                value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <v-stat-daily :start-end=\"beginToEnd\" />\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { mapGetters } from 'vuex'\r\n// import { getDaily } from '@/api/stat'\r\nimport { getNotReadMessageCount } from '@/api/message'\r\nimport { getStat } from '@/api/stat'\r\nimport { parseTime } from '@/utils'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  components: {\r\n    'v-stat-daily': () => import('@/views/dashboard/daily')\r\n  },\r\n  data() {\r\n    return {\r\n      stat: {\r\n        auditingCommentCount: 0,\r\n        commentCount: 0,\r\n        courseCount: 0,\r\n        joinDateTime: '',\r\n        joinDaysCount: 0,\r\n        videoCount: 0\r\n      },\r\n\r\n      pickerOptions: {\r\n        shortcuts: [{\r\n          text: '最近半个月',\r\n          onClick(picker) {\r\n            const end = new Date()\r\n            const start = new Date()\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 14)\r\n            picker.$emit('pick', [start, end])\r\n          }\r\n        }, {\r\n          text: '最近一个月',\r\n          onClick(picker) {\r\n            const end = new Date()\r\n            const start = new Date()\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n            picker.$emit('pick', [start, end])\r\n          }\r\n        }, {\r\n          text: '最近两个月',\r\n          onClick(picker) {\r\n            const end = new Date()\r\n            const start = new Date()\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 60)\r\n            picker.$emit('pick', [start, end])\r\n          }\r\n        }, {\r\n          text: '最近三个月',\r\n          onClick(picker) {\r\n            const end = new Date()\r\n            const start = new Date()\r\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\r\n            picker.$emit('pick', [start, end])\r\n          }\r\n        }]\r\n      },\r\n      // [begin, end]\r\n      beginToEnd: [\r\n        parseTime(new Date(new Date(new Date().toLocaleDateString()).getTime()).getTime() - 30 * 24 * 60 * 60 * 1000, ''),\r\n        parseTime(new Date(new Date(new Date().toLocaleDateString()).getTime()).getTime(), '')\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'user',\r\n      'messageCount'\r\n    ]),\r\n    getTimeState() {\r\n      const hour = new Date().getHours()\r\n      let text = ''\r\n      if (hour < 6) {\r\n        text = '凌晨好'\r\n      } else if (hour < 9) {\r\n        text = '早上好'\r\n      } else if (hour < 12) {\r\n        text = '上午好'\r\n      } else if (hour < 14) {\r\n        text = '中午好'\r\n      } else if (hour < 17) {\r\n        text = '下午好'\r\n      } else if (hour < 19) {\r\n        text = '傍晚好'\r\n      } else if (hour < 22) {\r\n        text = '晚上好'\r\n      } else {\r\n        text = '夜里好'\r\n      }\r\n      return text\r\n    },\r\n    defaultBeginToEnd() {\r\n      const now = new Date(new Date(new Date().toLocaleDateString()).getTime()).getTime()\r\n      const start = parseTime(now - 30 * 24 * 60 * 60 * 1000, '')\r\n      const end = parseTime(now, '')\r\n      return [start, end]\r\n    }\r\n  },\r\n  created() {\r\n    this.getMessageCount()\r\n    this.getStat()\r\n  },\r\n  methods: {\r\n    // 获取消息数量\r\n    getMessageCount() {\r\n      getNotReadMessageCount().then(resp => {\r\n        this.$store.dispatch('user/setMessageCount', resp.data)\r\n      })\r\n    },\r\n    getStat() {\r\n      getStat().then(resp => {\r\n        this.stat = resp.data\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.el-col {\r\n  margin-bottom: 20px;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.el-card {\r\n  &__header, &__body {\r\n    padding: 12px 16px;\r\n    line-height: 16px;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n.box-card {\r\n  .cardName {\r\n    color: #97a8be;\r\n  }\r\n\r\n  .cardLink {\r\n    float: right;\r\n    padding: 0;\r\n  }\r\n\r\n  .cardContent {\r\n    font-size: 26px;\r\n    padding: 12px 0;\r\n  }\r\n}\r\n</style>\r\n"]}]}